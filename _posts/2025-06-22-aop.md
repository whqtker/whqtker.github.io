---
title : "AOP, Spring AOP"
date : 2025-06-22 14:35:00 +0900
categories : [Java]
tags : [java, μλ°”, aop, κ΄€μ  μ§€ν–¥ ν”„λ΅κ·Έλλ°]
---

## π“ AOPλ€?

`AOP(Aspect-Oriented Programming)` μ€ μ—¬λ¬ λ¨λ“μ—μ„ λ°λ³µλλ” κ³µν†µ κΈ°λ¥μ„ ν•λ‚μ λ¨λ“λ΅ λ¶„λ¦¬ν•μ—¬ μ¬μ‚¬μ©μ΄ κ°€λ¥ν• λ¨λ“λ΅ λ§λ“λ” ν”„λ΅κ·Έλλ° ν¨λ¬λ‹¤μ„μ„ λ§ν•λ‹¤. κ΄€μ  μ§€ν–¥ ν”„λ΅κ·Έλλ°μ΄λΌκ³  λ¶€λ¥Έλ‹¤. 

λΉ„μ¦λ‹μ¤ λ΅μ§μ„ μ‘μ„±ν•λ‹¤ λ³΄λ©΄, μ—¬λ¬ λ¨λ“μ— κ±Έμ³ κ³µν†µμΌλ΅ ν•„μ”ν• κΈ°λ¥λ“¤μ΄ μ¤‘λ³µμΌλ΅ κµ¬ν„λλ” κ²½μ°κ°€ λ§λ‹¤. μ΄λ ‡κ² μ½”λ“μ μ¤‘λ³µμ„±μ΄ μ¦κ°€ν•λ©΄ μ μ§€λ³΄μ μ‹ ν° μ–΄λ ¤μ›€μ΄ μλ‹¤. AOPλ¥Ό ν†µν•΄ λ΅μ§μ„ `Core Concern` (ν•µμ‹¬ κΈ°λ¥)κ³Ό `Cross-cutting Concerns` (λ¶€κ°€ κΈ°λ¥)μΌλ΅ λ¶„λ¦¬ν•μ—¬ μ½”λ“μ μ¬μ‚¬μ©μ„±κ³Ό μ μ—°μ„±μ„ λ†’μΈλ‹¤.

## π“ μ©μ–΄

- `Join Point`

μ΅°μΈ ν¬μΈνΈλ” AOPλ¥Ό μ μ©ν•  μ μλ” μ§€μ μ΄λ‹¤. λ©”μ„λ“ μ‹¤ν–‰, μƒμ„±μ νΈμ¶, ν•„λ“ κ°’ μ ‘κ·Ό λ“±μ μ§€μ μ΄ λ  μ μλ‹¤. `Spring AOP` λ” ν”„λ΅μ‹ λ°©μ‹μ„ μ‚¬μ©ν•λ―€λ΅ μ΅°μΈ ν¬μΈνΈλ” ν•­μƒ λ©”μ„λ“ μ‹¤ν–‰ μ‹μ μΌλ΅ μ ν•λλ‹¤. ν”„λ΅μ‹ νΉμ„± μƒ λ©”μ„λ“ νΈμ¶μ„ κ°€λ΅μ± μλ” μμ§€λ§ μƒμ„±μ νΈμ¶μ΄λ‚ ν•„λ“ κ°’ λ³€κ²½μ„ κ°€λ΅μ± μλ” μ—†κΈ° λ•λ¬Έμ΄λ‹¤.

- `Advice`

νΉμ • μ΅°μΈ ν¬μΈνΈμ—μ„ μ‹¤ν–‰λλ” μ½”λ“λ΅ μ‹¤μ  λ¶€κ°€ κΈ°λ¥μ„ λ‹΄μ€ κµ¬ν„μ²΄μ΄λ‹¤. μ–Έμ , μ–΄λ–¤ μ‘μ—…μ„ μν–‰ν• μ§€ κ²°μ •ν•λ‹¤. μ–΄λ“λ°”μ΄μ¤λ” μ—¬λ¬ μΆ…λ¥κ°€ μλ”λ°, `Before` μ€ λ©”μ„λ“ μ‹¤ν–‰ μ „, `After` λ” λ©”μ„λ“ μ‹¤ν–‰ ν›„ λ™μ‘ν•λ‹¤. `After-returning` μ€ λ©”μ„λ“κ°€ μ •μƒ μ‹¤ν–‰ ν›„, `After-throwing` μ€ μμ™Έκ°€ λ°μƒν• ν›„ λ™μ‘ν•λ‹¤. `Around` λ¨λ“  μ‹μ μ—μ„ λ™μ‘ν•λ‹¤.

- `Target`

νƒ€κ²μ€ λ¶€κ°€ κΈ°λ¥μ„ λ¶€μ—¬ν•  λ€μƒμ΄λ‹¤. μ¦‰, μ–΄λ“λ°”μ΄μ¤λ¥Ό λ°›λ” κ°μ²΄λ΅, ν¬μΈνΈμ»·μΌλ΅ μ–΄λ νƒ€κ²μ— λ“¤μ–΄κ°μ§€ κ²°μ •λλ‹¤.

- `Pointcut`

ν¬μΈνΈμ»·μ€ μ–΄λ“λ°”μ΄μ¤λ¥Ό μ μ©ν•  νƒ€κ²μ λ©”μ„λ“λ¥Ό κ²°μ •ν•λ” λ°©λ²•μ΄λ‹¤. 

- `Aspect`

μ• μ¤ν™νΈλ” AOPμ κΈ°λ³Έ λ¨λ“λ΅, μ–΄λ“λ°”μ΄μ¤μ™€ ν¬μΈνΈμ»·μ„ ν•©μΉ κ°λ…μ΄λ‹¤.

- `Weaving`

μ„λΉ™μ€ ν¬μΈνΈμ»·μ— μν•΄ κ²°μ •λ νƒ€κ²μ μ΅°μΈ ν¬μΈνΈμ— μ–΄λ“λ°”μ΄μ¤λ¥Ό μ‚½μ…ν•λ” κ³Όμ •μ΄λ‹¤. μ„λΉ™μ„ ν†µν•΄ νƒ€κ²μ μ½”λ“μ— μν–¥μ„ μ£Όμ§€ μ•μΌλ©΄μ„ μ–΄λ“λ°”μ΄μ¤λ¥Ό μ¶”κ°€ν•  μ μλ‹¤. μ„λΉ™ μ‹μ μ— λ”°λΌ μ»΄νμΌ νƒ€μ„ μ„λΉ™, λ΅λ“ νƒ€μ„ μ„λΉ™, λ°νƒ€μ„ μ„λΉ™μ΄ μ΅΄μ¬ν•λ‹¤.

- `Advisor`

μ–΄λ“λ°”μ΄μ €λ” ν•λ‚μ μ–΄λ“λ°”μ΄μ¤μ™€ ν•λ‚μ ν¬μΈνΈμ»·μΌλ΅ κµ¬μ„±λλ©° μ¤ν”„λ§ AOPμ—μ„λ§ μ‚¬μ©λλ” μ©μ–΄μ΄λ‹¤.

- `AOP Proxy`

AOP ν”„λ΅μ‹λ” AOPλ¥Ό κµ¬ν„ν•κΈ° μ„ν• ν”„λ΅μ‹ κ°μ²΄λ΅ μ¤ν”„λ§ AOPμ—μ„λ” JDK ν”„λ΅μ‹ λλ” CGLIB ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•λ‹¤. JDK ν”„λ΅μ‹λ” μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ—, CGLIB ν”„λ΅μ‹λ” μΌλ° ν΄λμ¤μ— μ μ©λλ‹¤.

## π“ Spring AOP κµ¬ν„ λ°©λ²•

μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ AOPλ¥Ό κµ¬ν„ν•΄λ³΄μ.

```groovy
implementation 'org.springframework.boot:spring-boot-starter-aop'
```

Spring AOP μμ΅΄μ„±μ„ μ¶”κ°€ν•λ‹¤.

```java
@Configuration
@EnableAspectJAutoProxy
public class AppConfig {
    // ...
}
```

AOPλ¥Ό ν™μ„±ν™”ν•κΈ° μ„ν•΄ `@EnableAspectJAutoProxy` λ¥Ό μ¶”κ°€ν•λ‹¤.

```java
@Aspect
@Component
public class LoggingAspect {
    
    @Pointcut("execution(* com.example.service.*.*(..))")
    private void serviceLayer() {}
    
    @Before("serviceLayer()")
    public void beforeAdvice(JoinPoint joinPoint) {
        // ...
    }
}

```

`@Aspect` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ Aspectλ¥Ό μ •μν•λ‹¤. ν¬μΈν„°μ»·μ€ `@Pointcut` μ–΄λ…Έν…μ΄μ…μΌλ΅ μ •μν•λ©°, μ–΄λ“λ°”μ΄μ¤λ” μ ν•μ— λ”°λ¥Έ μ–΄λ…Έν…μ΄μ…μΌλ΅ μ •μν•λ‹¤.

## π“ μ°Έκ³ 

https://dev-coco.tistory.com/81

https://engkimbs.tistory.com/entry/%EC%8A%A4%ED%94%84%EB%A7%81AOP

https://sharonprogress.tistory.com/195