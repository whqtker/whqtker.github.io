---
title : "[Network] Polling, SSE, Websocket이란?"
date : 2025-03-13 17:40:00 +0900
categories : [Network]
tags : [network, cs, 네트워크]
---

## Polling

`polling`은 클라이언트가 주기적으로 서버에 요청을 보내고, 서버는 클라이언트의 요청에 대한 응답을 리턴하는 방법이다. **구현이 간단하고 HTTP 프로토콜을 사용**하므로 호환성이 좋다. 

서버는 클라이언트의 요청에 매번 응답을 전송해야 한다. 따라서 특수한 상황이 아니면 대부분의 요청이 불필요한 경우가 될 수 있다. 또한 **클라이언트의 요청이 많아질수록 서버에 부하가 증가**할 수 있다. 그리고 데이터가 변경되어도 클라이언트가 새로운 데이터를 받기까지 시간이 걸리므로 **실시간성이 떨어진다.**

## Long Polling

`long polling`은 클라이언트가 서버에 요청을 보낸 후 서버가 새로운 데이터가 준비될 때까지 요청을 유지하는 방식이다. 다시 말해 서버로부터 응답을 받을 때까지 클라이언트는 대기한다. 데이터가 준비되면 서버는 클라이언트에게 응답을 보낸다. long polling 역시 **HTTP 프로토콜**을 사용한다.

서버로부터 새로운 데이터를 즉시 받을 수 있으므로 polling 방법보다 실시간성이 높아진다. 또한 polling 방법에 비해 서버의 요청을 줄일 수 있다. 클라이언트가 불필요한 요청을 보내지 않기 때문에 네트워크 트래픽을 줄일 수 있다. 

그러나 서버와 클라이언트 간 연결을 지속적으로 유지해야 하기 때문에 연결이 끊어질 경우 재연결을 해야 하고, 이 과정에서 지연이 발생할 수 있다. 또한 클라이언트의 요청이 유지되는 동안 서버는 해당 요청을 대기 상태로 유지해야 하므로 다수의 클라이언트가 연결된 경우 서버 자원이 소모될 수 있다. 또한 요청과 응답의 흐름을 관리해야 하므로 구현이 다소 복잡할 수 있다.

## SSE(Server-Sent Events)

`SSE(Server-Sent Events)`는 클라이언트가 서버에 요청을 보내면 **서버가 지속적인 연결을 유지**하여 실시간으로 클라이언트에게 데이터를 전송하는 방법이다. SSE는 서**버에서 클라이언트로 향하는 단방향 연결**이다. 즉, **일반적으로 클라이언트는 서버로 데이터를 전송할 수 없다.** 

**HTTP 프로토콜**을 기반으로 하므로 호환성이 좋고, 구현이 간단하다. 서버가 연결을 유지하며 실시간으로 데이터를 전송한다. 클라이언트는 서버로부터 데이터를 지속적으로 수신할 수 있다.

SSE는 연결이 끊어지면 클라이언트가 **자동으로 재연결**하는 기능이 존재한다. 또한 구현이 간단하다.

그러나 클라이언트가 서버에게 데이터를 보내고자 한다면 별도의 HTTP 요청을 보내야 한다. SSE는 대부분의 최신 브라우저에서 지원되지만 구형 브라우저에서는 호환성 문제가 발생할 수 있다.

## WebSocket

`websocket`은 클라이언트와 서버 간 지속적인 연결을 통한 양방향 데이터 전송을 가능하게 하는 방법이다. 실시간 데이터 전송이 가능하고 매번 HTTP 요청을 보내는 오버헤드를 줄일 수 있다. 좀 더 구체적으로 설명하면, 처음 3-way handshake를 통해 연결되면, 별도의 요청 없이 데이터를 주고받을 수 있다.

**클라이언트와 서버 간 연결이 수립되면 양방향으로 데이터를 전송할 수 있다.** 또한 지속적인 연결 덕분에 데이터가 준비되면 바로 전송할 수 있다.

**웹소켓과 HTTP는 서로 다른 프로토콜**이다. HTTP는 요청 및 응답을 통해 데이터를 전송하며, **웹소켓은 한 번의 handshake 이후 지속적인 연결을 유지한다.**

그러나 구현이 다소 복잡하며 지속적인 연결을 유지하기 때문에 많은 클라이언트가 동시에 연결된 경우 서버의 자원 소모가 증가할 수 있다. 만약 서버 측에서 보낼 데이터가 없는 경우, 클라이언트는 이를 알 수 없고, 지속적인 요청을 보내 확인해야 하는 불편함이 있다. 또한 보안 측면에서 고려해야 하는 점이 존재하는데, **데이터가 암호화되지 않은 상태로 전송될 수 있기 때문**에 SSL 또는 TLS와 같은 보안 프로토콜을 적용해야 한다.

대부분의 웹 서버는 웹소켓을 지원하지만 추가적인 설정이 필요할 수 있다. 또한 클라이언트 측에도 웹소켓 API를 통해 연결을 설정하고 데이터를 전송하는 코드를 작성해야 한다.

## 정리

![network](assets/img/network/psw.png)

|  | Polling | Long Polling | SSE | Websocket |
| --- | --- | --- | --- | --- |
| 통신 방향 | 서버 → 클라이언트 | 서버 → 클라이언트 | 서버 → 클라이언트 | 서버 ↔ 클라이언트 |
| 프로토콜 | HTTP | HTTP | HTTP | TCP |
| 구현 난이도 | ★ | ★ | ★★ | ★★★ |
| 연결의 수 | 여러 개 ⇒ 주기적으로 요청 | 여러 개 ⇒ 연결 당 요청 1개 | 클라이언트 당 1개 | 클라이언트 당 1개 |
| 확장성 | 낮음 | 낮음 | 높음 | 가장 높음 |
| 브라우저 지원 | 모든 브라우저 | 모든 브라우저 | 대부분의 최신 브라우저 | 대부분의 최신 브라우저 |
| 오류 처리 | 수동 구현 | 수동 구현 | 자동으로 재연결, but 일부 수동 처리 | 내장 매커니즘 존재 |